# Ticket_Management_Selenium
Selenium Webdriver Automated tests for React front of GIS Ticket Management System

# SELENIUM WEBDRIVE - Test automation

The framework is to help run script   and generate test results.

# **Requirements**
java -version 8

Maven environment.

Browser - Firefox and/or Chrome for GUI, headless(in built within the framework)

OS - windows, linux, mac (not tested)

# **usage**
To create test class go to  `src/test/java/` and create from this package.

Extend class `TestAdaptor` which contains the test framework and methods listed below.

**Config Classes**

1. `ObjectRepositoryMappings.java
` Contains name of object 
        e.g a).  id attribute can have  `ID_USERNAME , ID_PASSWORD` 
        
     b). name attribute can have variables as `NAME_FIRST_NAME, NAME_EMAIL, NAME_PHONENUMBER` 
     
     c). html tag can can have variables as `TAG_BUTTON, TAG_H2, TAG_H3, TAG_P, TAG_INPUT`
     
     d) attribute class can have variables as  `CLASS_BTN_PRIMARY, CLASS_PAGE_TITLE`
  

2. `XpathRepositoryMappings.java`  contains the  xpath object variables (the recommended methods of finding the elements) 
 e.g   `public static String XPATH_SUBMIT_FORM_INPUT = "//input[@type='submit']"; `
     `public static String XPATH_SUBMIT_FORM_BTN = "//input[@type='submit']";`

3. `CommonMappings.java ` contains the common values, e.g values of input can start with VALUE_USERNAME, VALUE_PASSWORD,
LINK_ADMIN,  URL_UPIA_LOGIN etc.



To use the selenium framework is as simple as running the query with right parameters.
to find UI element we can find them by `LINK_TEXT, ID, NAME, CLASS, CSS, TAG_NAME` . 
The commands are as follows:
        
        ///load page of link http://somelink.com/
        loadLink(General.TEST_URL);
                
        //find input by id="username" and enter   value="eric muchiri javo"
        enterText(ID, "username", "eric muchiri javo");

        //find input by name="password" and enter value="my@secr3t"
        enterText(NAME, "password", "my@secr3t");

        //find element by class ="input2"
        click(CLASS, "input2");

        //click a link with text `Forgot your password`
        click(LINK_TEXT, "Forgot your password");

        //get page title text
        String pageTitle = getPageTitle();

        //get text on page where tag name is h2
        String someText = getText(TAG_NAME,"h2");


 **How to run test**
 
 1. Run all the unit test classes.
 ` mvn test`
 
 2. Run a single test class.
` mvn -Dtest=TestLogin test`

 3. Run multiple test classes.
` mvn -Dtest=TestLogin, TestCreateUser test`

 4. Run a single test method from a test class.
` mvn -Dtest=TestCreateUser#loginAsAdmin test`
  
 5. Run all test methods that match pattern 'goTo*' from a test class.
  `mvn -Dtest=TestCreateUser#goTo* test`
  
 6. Run all test methods match pattern 'goTo*' and 'enterUser*' from a test class.
  `mvn -Dtest=TestCreateUser#goTo*+enterUser* test`
  
 7. To pass the browser to your test you need to pass the following `-Dbrowser` e.g
  ` mvn -Dtest=TestLogin -Dbrowser=firefox test`
  
 8. To restore db (clean customer and loan data ) pass this command -Drestore=appName 
  to restore db only without conducting test  hit the below code:
  `mvn -Dtest=TestDbRestore -Drestore=kuzaug -Denv=local test `  
  
 **-Drestore** can have kuzaug,kuzake,upiaug,upiake 
 **-Denv** possible values can be local or staging
 
 class `TestDbRestore` only runs the db migration with no web test.
 to  run db migration and web testing, you just need to pass `-Drestore=appName ` on the normal maven test
 
  
  If `-Dbrowser` is not passed in the command it will default to `headless` execution.
 
 Headless execution we are using _phantomjs_ driver
  
  ****Reporting**** 
  
  Reports are generated by surefire plugin after test complete. 
  When the test complete a report page is fired.
    
  They can be found in _`target/surefire-reports/index.html`_
  
  To view just run the index.html in your browser and you are good to go.
  
  **Useful links**
  1. https://www.guru99.com/xpath-selenium.html for xpath tutorial
  